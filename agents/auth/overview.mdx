---
title: "Overview"
description: "Get authenticated browser sessions for your automations"
---

Agent Auth gets authenticated browser sessions for your automations—handling login flows, 2FA/OTP, and session persistence automatically.

## How It Works

<Steps>
  <Step title="Create an Auth Agent">
    An **Auth Agent** represents a login session for a specific website and profile. Create one for each domain + profile combination.

    ```typescript
    const agent = await kernel.agents.auth.create({
      domain: 'netflix.com',
      profile_name: 'netflix-user-123',
    });
    ```
  </Step>
  <Step title="Start Authentication">
    Start the login flow. Users provide credentials via the hosted page (or your own UI).

    ```typescript
    const invocation = await kernel.agents.auth.invocations.create({
      auth_agent_id: agent.id,
    });
    
    // Send user to login page
    console.log('Login URL:', invocation.hosted_url);
    
    // Poll until complete
    let state = await kernel.agents.auth.invocations.retrieve(invocation.invocation_id);
    while (state.status === 'IN_PROGRESS') {
      await new Promise(r => setTimeout(r, 2000));
      state = await kernel.agents.auth.invocations.retrieve(invocation.invocation_id);
    }
    
    if (state.status === 'SUCCESS') {
      console.log('Authenticated!');
    }
    ```
  </Step>
  <Step title="Use the Profile">
    Create browsers with the saved profile—they're already logged in.

    ```typescript
    const browser = await kernel.browsers.create({
      profile: { name: 'netflix-user-123' },
      stealth: true,
    });
    // Browser is logged into Netflix!
    ```

    For fully automated flows, link [Credentials](/agents/auth/credentials) to enable re-authentication without user input.
  </Step>
</Steps>

## Choose Your Integration

<CardGroup cols={2}>
  <Card title="Hosted UI (Recommended)" icon="browser" href="/agents/auth/hosted-ui">
    **Best for:** Most applications

    Collect credentials via Kernel's hosted page. Simplest integration.
  </Card>
  <Card title="Programmatic" icon="code" href="/agents/auth/programmatic">
    **Best for:** Custom UI or headless

    Build your own credential collection with polling and submit APIs.
  </Card>
</CardGroup>

## Why Agent Auth?

The most valuable workflows live behind logins. Agent Auth provides:

- **Works on any website** - Login pages are handled automatically
- **SSO/OAuth support** - "Sign in with Google/GitHub/Microsoft" buttons work out of the box
- **2FA/OTP handling** - TOTP codes automated, SMS/email OTP via the UI
- **Session monitoring** - Automatic re-authentication when sessions expire
- **Secure by default** - Credentials encrypted at rest, never exposed in API responses

## Security

| Feature | Description |
|---------|-------------|
| **Encrypted credentials** | Values encrypted with per-organization keys |
| **No credential exposure** | Never returned in API responses or passed to LLMs |
| **Encrypted profiles** | Browser session state encrypted end-to-end |
| **Isolated execution** | Each login runs in an isolated browser environment |
