---
title: "Overview"
description: "Secure authentication system - log users into any website and save authenticated browser sessions"
---

Agent Auth logs users into any website and saves their authenticated browser session for future automations—handling form discovery, 2FA/OTP, and session persistence automatically.

## How It Works

<Steps>
  <Step title="Create an Auth Agent">
    An **Auth Agent** manages authentication for a specific domain + profile combination. It tracks the target site, login URL, and auth status. Agents are idempotent—creating one for an existing domain/profile returns the existing agent.

    ```typescript
    const agent = await kernel.agents.auth.create({
      domain: 'netflix.com',
      profile_name: 'netflix-user-123',
    });
    ```
  </Step>
  <Step title="Start an Invocation">
    An **Invocation** is a single authentication attempt. Each invocation returns a `hosted_url` where users complete login, or you can use the [programmatic API](/agent-auth/programmatic) to build your own UI.

    ```typescript
    const invocation = await kernel.agents.auth.invocations.create({
      auth_agent_id: agent.id,
    });
    
    // If already logged in, skip the flow
    if (invocation.status === 'ALREADY_AUTHENTICATED') {
      console.log('Session still valid!');
    } else {
      // Redirect user to complete login
      console.log('Login URL:', invocation.hosted_url);
    }
    ```

    Invocation statuses: `IN_PROGRESS` → `SUCCESS` | `EXPIRED` | `CANCELED`
  </Step>
  <Step title="User Completes Login">
    {/* TODO: Add image showing the hosted UI login flow */}
    
    The user enters credentials, handles 2FA/OTP if needed, and the authenticated session is saved to a **Profile**—encrypted browser state (cookies, localStorage) that persists across sessions.

    For fully automated flows, link [Credentials](/agent-auth/credentials) to enable re-authentication without user intervention.
  </Step>
  <Step title="Use the Authenticated Profile">
    Launch a browser with the saved profile—it's already logged in. Profiles work with any Kernel browser operation.

    ```typescript
    const browser = await kernel.browsers.create({
      profile: { name: 'netflix-user-123' },
      stealth: true,
    });
    // Browser is logged into Netflix!
    ```

    See [Profiles](/browsers/profiles) to learn more about session persistence.
  </Step>
</Steps>

## Choose Your Integration

<CardGroup cols={3}>
  <Card title="Auto-Login" icon="bolt" href="/agent-auth/auto-login">
    **Best for:** Fully automated flows

    Credentials are pre-linked. System handles everything automatically.
  </Card>
  <Card title="Hosted UI" icon="browser" href="/agent-auth/hosted-ui">
    **Best for:** User-facing apps

    Redirect users to Kernel's hosted login page.
  </Card>
  <Card title="Programmatic" icon="code" href="/agent-auth/programmatic">
    **Best for:** Custom UI or headless

    Build your own UI with discover/submit APIs.
  </Card>
</CardGroup>

## Why Agent Auth?

The most valuable workflows live behind logins. Agent Auth provides:

- **One API for any login flow** - Automatic form discovery works on any website
- **2FA/OTP handling** - Supports TOTP, magic links, SMS codes, and CAPTCHAs
- **Session monitoring** - Hourly checks detect when re-authentication is needed
- **Security-first design** - Credentials encrypted at rest, never exposed in API responses

## Security

| Feature | Description |
|---------|-------------|
| **Encrypted credentials** | Values encrypted at rest with per-organization keys, never stored in plaintext |
| **No credential exposure** | Credentials submitted programmatically to target sites, never returned in responses |
| **Encrypted profiles** | Browser session state encrypted end-to-end |
| **Isolated execution** | Each auth flow runs in an isolated browser environment |
