---
title: "Credentials Vault"
---

Our Credentials Vault allows you to securely store login information and automate workflows end-to-end. When combined with [Agent Auth](/agent-auth/overview), your Kernel browsers stay automatically logged in 24/7 without additional user input.

## Why use Kernel's Credentials Vault?

Without stored credentials, every time a browser session expires, your app needs to redirect users back through the login flow. With our credentials vault:

- **Automated re-auth** - Browsers for your AI agent stay logged in automatically
- **No user interaction** - Re-authentication happens without user involvement
- **Secure storage** - Credentials are encrypted at rest using per-organization keys
- **Never exposed** - Values are never returned in API responses or shared with LLMs

## Getting started

### 1. Save to Credentials Vault

When creating Agent Auth invocations, specify `save_credential_as` with a unique identifier. This then stores the credentials submitted in the Auth Agent to our vault.

```typescript
const invocation = await kernel.agents.auth.invocations.create({
  auth_agent_id: agent.id,
  save_credential_as: 'my-netflix-login',  // Save credentials when login succeeds
});
```

Alternatively, you can manually store credentials to our vault. Values are encrypted immediately and cannot be retrieved in plaintext once submitted.

<CodeGroup>
```typescript TypeScript
const credential = await kernel.credentials.create({
  name: 'my-netflix-login',           // Unique name within your org
  domain: 'netflix.com',              // Target domain
  values: {                           // Key-value pairs of login fields
    email: 'user@example.com',
    password: 'secretpassword123',
  },
});
// Note: credential values are NEVER returned - only metadata
```

```python Python
credential = await kernel.credentials.create(
    name="my-netflix-login",
    domain="netflix.com",
    values={
        "email": "user@example.com",
        "password": "secretpassword123",
    },
)
```
</CodeGroup>

### 2. Automate logins

#### `save_credential_as`
If you've stored credentials via `save_credential_as`, all subsequent browsers loaded with the associated [Auth Agent Profile](/agent-auth/hosted-ui#1-create-an-auth-agent) will be automatically logged in. We [regularly refresh](/agent-auth/faq#automatic-re-auth) the profile with the stored credentials to ensure it is valid and authenticated.

#### `credentials.create()`
If you've manually created credentials using `credentials.create()`, you can apply them to any Agent Auth to login to a website:


```typescript
// Initialize auth agent with specified credential
const agent = await kernel.agents.auth.create({
  target_domain: 'netflix.com',
  profile_name: 'my-profile',
  credential_id: credential.id,  // Credentials the Auth Agent should use to attempt login
});
```

## Security

Credentials are designed with security as the top priority:

| Security Feature | Description |
|-----------------|-------------|
| **Encryption at rest** | All credential values are encrypted using per-organization keys |
| **Write-only values** | Values cannot be retrieved via the API after creation |
| **Never logged** | Credential values are never written to logs |
| **Never shared with LLMs** | Values are injected directly into form fields, never passed through AI models |
| **Isolated execution** | Authentication runs in an isolated browser environment |


## Notes
- Deleting a credential unlinks it from any associated Auth Agents. Those agents will no longer be able to re-authenticate automatically.
- The Credential `values` object is flexibleâ€”it stores whatever key-value pairs you provide. Common patterns include `<email, password>`, `<username,password>`, or even things with multiple fields like `<company_id, username, password>`


## Best Practices

1. **Use descriptive names** - Name credentials clearly (e.g., `production-crm-login`, `staging-portal-admin`)

2. **One credential per account** - Create separate credentials for different user accounts

3. **Monitor auth status** - Use [Session Monitoring](/agent-auth/session-monitoring) to detect when re-auth is needed

4. **Handle re-auth failures** - If automated re-auth fails (password changed, new 2FA method), fall back to manual login
